(this["webpackJsonpcovid-viz"]=this["webpackJsonpcovid-viz"]||[]).push([[0],{246:function(e,t,a){e.exports=a(388)},255:function(e,t,a){},256:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(88),l=a.n(r),i=a(97),o=a(67),u=a(194),s=a(195),m=a.n(s),d=a(39),g={dateRange:null,global:{cases:null,deaths:null,filteredCountries:["Italy","US","Australia","Singapore","France","Spain","Germany"],logScale:!0},unitedStates:{cases:null,deaths:null}},v=(a(255),a(99)),p=a(38),b=(a(256),a(16)),E=a(196);var f=function(e){var t=e.data,a=e.logScale,n=a?{type:"log",base:10,max:3e5}:{type:"linear",min:0,max:"auto"},r=a?[10,100,1e3,1e4,1e5,1e6,1e7]:void 0,l=a?[10,100,1e3,1e4,1e5,1e6,1e7]:void 0;return c.a.createElement(E.a,{maxWidth:800,data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},xFormat:"time:%Y-%m-%d",yScale:n,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:-66,format:"%b %d",tickValues:"every week"},gridYValues:r,axisLeft:{orient:"left",tickValues:l,tickSize:5,tickPadding:5,tickRotation:0},isInteractive:!0,useMesh:!0,enableGridX:!1,enableSlices:"x",legends:[{anchor:"right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})};var h=Object(i.b)((function(e){var t=e.dateRange,a=e.global;return{dateRange:t,cases:a.cases,countries:a.filteredCountries,logScale:a.logScale}}))((function(e){var t=e.countries,a=e.cases,n=e.dateRange;if(!a)return c.a.createElement("p",null,"loading...");var r=t.map((function(e){return a[e]})),l=Object.values(r).map((function(e){var t=e.values.map((function(e,t){var a=n[t].split("/"),c=Object(b.a)(a,3),r=c[0],l=c[1],i=c[2];return{x:"20".concat(i,"-").concat(r,"-").concat(l),y:0===e?1:e}}));return{id:e.country,data:t}}));return c.a.createElement("div",null,c.a.createElement("p",null,"General overview of world case growth."),c.a.createElement("div",{style:{height:"600px",maxWidth:"900px"}},c.a.createElement(f,{data:l,logScale:e.logScale})),c.a.createElement("button",{onClick:function(){return e.dispatch({type:"TOGGLE_GLOBAL_LOG_SCALE"})}},"Toggle Log Scale"))}));var S=function(){return c.a.createElement("p",null,"Details")};var y=function(){return c.a.createElement(v.a,{basename:"/"},c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(v.b,{to:"/"},"Overview")),c.a.createElement("li",null,c.a.createElement(v.b,{to:"/details"},"Details"))),c.a.createElement("hr",null),c.a.createElement(p.a,{exact:!0,path:"/",component:h}),c.a.createElement(p.a,{path:"/details",component:S})))},O=a(210),_=a(90),G=a(209),L="".concat("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series","/time_series_covid19_confirmed_global.csv"),j=function(e){return{country:e[1],values:e.slice(4).map((function(e){return parseInt(e)}))}},x=function(e,t){var a=e[t.country],n=a?{country:t.country,values:C(a.values,t.values)}:t;return Object(d.a)({},e,Object(_.a)({},t.country,n))},C=function(e,t){return e.reduce((function(e,a,n){return[].concat(Object(O.a)(e),[a+t[n]])}),[])},k=Object(o.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_DATE_RANGE":return Object(d.a)({},e,{dateRange:t.dateRange});case"FETCHED_GLOBAL_CASES":return Object(d.a)({},e,{global:Object(d.a)({},e.global,{cases:t.values})});case"TOGGLE_GLOBAL_LOG_SCALE":return Object(d.a)({},e,{global:Object(d.a)({},e.global,{logScale:!e.global.logScale})});default:return e}}),Object(o.a)(u.a,m.a));l.a.render(c.a.createElement(i.a,{store:k},c.a.createElement(y,null)),document.getElementById("root")),k.dispatch((function(e){return fetch(L).then((function(e){return e.text()})).then((function(t){var a=t.trim().split("\n").map((function(e){return e.split(",")})),n=Object(G.a)(a),c=n[0],r=n.slice(1),l=c.slice(4),i=r.map(j).reduce(x,{});e({type:"FETCHED_DATE_RANGE",dateRange:l}),e({type:"FETCHED_GLOBAL_CASES",values:i})}))}))}},[[246,1,2]]]);
//# sourceMappingURL=main.d8e27ab0.chunk.js.map