(this["webpackJsonpcovid-viz"]=this["webpackJsonpcovid-viz"]||[]).push([[0],{246:function(e,t,a){e.exports=a(388)},255:function(e,t,a){},256:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(88),c=a.n(r),i=a(97),o=a(67),u=a(194),s=a(195),d=a.n(s),m=a(28),g={dateRange:null,global:{cases:null,deaths:null,filteredCountries:["Italy","US","United Kingdom","Singapore","France","Spain","Germany"],logScale:!0},unitedStates:{cases:null,deaths:null}},v=(a(255),a(99)),E=a(39),b=(a(256),a(16)),p=a(196);var f=function(e){var t=e.data,a=e.logScale,n=a?{type:"log",base:10,max:3e5}:{type:"linear",min:0,max:"auto"},r=a?[10,100,1e3,1e4,1e5,1e6,1e7]:void 0,c=a?[10,100,1e3,1e4,1e5,1e6,1e7]:void 0;return l.a.createElement(p.a,{maxWidth:800,data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},xFormat:"time:%Y-%m-%d",yScale:n,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:-66,format:"%b %d",tickValues:"every week"},gridYValues:r,axisLeft:{orient:"left",tickValues:c,tickSize:5,tickPadding:5,tickRotation:0},isInteractive:!0,useMesh:!0,enableGridX:!1,enableSlices:"x",legends:[{anchor:"right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},h=function(e,t){return Object.values(t).map((function(t){var a=t.values.map((function(t,a){var n=e[a].split("/"),l=Object(b.a)(n,3),r=l[0],c=l[1],i=l[2],o="20".concat(i,"-").concat(r,"-").concat(c);return 0===t?null:{x:o,y:t}})).filter((function(e){return null!==e}));return{id:t.country,data:a}}))};var S=Object(i.b)((function(e){var t=e.dateRange,a=e.global;return{dateRange:t,cases:a.cases,deaths:a.deaths,countries:a.filteredCountries,logScale:a.logScale}}))((function(e){var t=e.countries,a=e.cases,n=e.deaths,r=e.dateRange;if(!a||!n)return l.a.createElement("p",null,"loading...");var c=t.map((function(e){return a[e]})),i=t.map((function(e){return n[e]})),o=h(r,c),u=h(r,i),s=function(){return e.dispatch({type:"TOGGLE_GLOBAL_LOG_SCALE"})};return l.a.createElement("div",null,l.a.createElement("h3",null,"Global Cases"),l.a.createElement("p",null,"Overview of coronavirus cases around the world."),l.a.createElement("div",{style:{height:"600px",maxWidth:"900px"}},l.a.createElement(f,{data:o,logScale:e.logScale})),l.a.createElement("button",{onClick:s},"Toggle Log Scale"),l.a.createElement("h3",null,"Global Deaths"),l.a.createElement("p",null,"Overview of coronavirus deaths around the world."),l.a.createElement("div",{style:{height:"600px",maxWidth:"900px"}},l.a.createElement(f,{data:u,logScale:e.logScale})),l.a.createElement("button",{onClick:s},"Toggle Log Scale"))}));var _=function(){return l.a.createElement("p",null,"Details")};var O=function(){return l.a.createElement(v.a,{basename:"/"},l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(v.b,{to:"/"},"GlobalOverview")),l.a.createElement("li",null,l.a.createElement(v.b,{to:"/details"},"Details"))),l.a.createElement("hr",null),l.a.createElement(E.a,{exact:!0,path:"/",component:S}),l.a.createElement(E.a,{path:"/details",component:_})))},y=a(210),L=a(90),G=a(209),x="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series",C="".concat(x,"/time_series_covid19_confirmed_global.csv"),j="".concat(x,"/time_series_covid19_deaths_global.csv"),A=function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){var t=e.trim().split("\n").map((function(e){return e.split(",")})),a=Object(G.a)(t),n=a[0],l=a.slice(1);return{dateRange:n.slice(4),rows:l.map(D).reduce(k,{})}}))},D=function(e){return{country:e[1],values:e.slice(4).map((function(e){return parseInt(e)}))}},k=function(e,t){var a=e[t.country],n=a?{country:t.country,values:T(a.values,t.values)}:t;return Object(m.a)({},e,Object(L.a)({},t.country,n))},T=function(e,t){return e.reduce((function(e,a,n){return[].concat(Object(y.a)(e),[a+t[n]])}),[])},w=Object(o.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_DATE_RANGE":return Object(m.a)({},e,{dateRange:t.dateRange});case"FETCHED_GLOBAL_CASES":return Object(m.a)({},e,{global:Object(m.a)({},e.global,{cases:t.values})});case"FETCHED_GLOBAL_DEATHS":return Object(m.a)({},e,{global:Object(m.a)({},e.global,{deaths:t.values})});case"TOGGLE_GLOBAL_LOG_SCALE":return Object(m.a)({},e,{global:Object(m.a)({},e.global,{logScale:!e.global.logScale})});default:return e}}),Object(o.a)(u.a,d.a));c.a.render(l.a.createElement(i.a,{store:w},l.a.createElement(O,null)),document.getElementById("root")),w.dispatch((function(e){return A(C).then((function(t){var a=t.dateRange,n=t.rows;e({type:"FETCHED_DATE_RANGE",dateRange:a}),e({type:"FETCHED_GLOBAL_CASES",values:n})}))})),w.dispatch((function(e){return A(j).then((function(t){var a=t.rows;e({type:"FETCHED_GLOBAL_DEATHS",values:a})}))}))}},[[246,1,2]]]);
//# sourceMappingURL=main.01d60743.chunk.js.map